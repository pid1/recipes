\documentclass[11pt]{article}

% ── Page Layout ─────────────────────────────────────────────
\usepackage[letterpaper, margin=1in, top=1.25in, bottom=1.1in]{geometry}

% ── Fonts & Typography ──────────────────────────────────────
\usepackage{fontspec}
\setmainfont{TeX Gyre Pagella}
\linespread{1.08}

% ── Colors ──────────────────────────────────────────────────
\usepackage{xcolor}
\definecolor{wine}{HTML}{6B2D3E}
\definecolor{darkwine}{HTML}{4A1D2B}
\definecolor{warmgray}{HTML}{9E9689}
\definecolor{charcoal}{HTML}{2F2F2F}
\color{charcoal}

% ── Graphics & Drawing ─────────────────────────────────────
\usepackage{tikz}

% ── Page Headers & Footers ─────────────────────────────────
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\fancyfoot[C]{\textcolor{warmgray}{\small— \thepage\ —}}
\fancypagestyle{plain}{%
  \fancyhf{}
  \renewcommand{\headrulewidth}{0pt}
  \fancyfoot[C]{\textcolor{warmgray}{\small— \thepage\ —}}
}

% ── Paragraph Spacing ──────────────────────────────────────
\usepackage{parskip}

% ── List Styling ───────────────────────────────────────────
\usepackage{enumitem}
\setlist[itemize]{
  label=\textcolor{wine}{\textbullet},
  leftmargin=1.5em,
  itemsep=1pt,
  parsep=0pt,
  topsep=4pt,
}
\setlist[enumerate]{
  label=\textcolor{wine}{\bfseries\arabic*.},
  leftmargin=1.8em,
  itemsep=3pt,
  parsep=1pt,
  topsep=4pt,
}

% ── Hyperlinks ─────────────────────────────────────────────
\usepackage{hyperref}
\hypersetup{
  colorlinks=true,
  linkcolor=darkwine,
  urlcolor=wine,
  pdfborder={0 0 0},
  pdftitle={Roemer Family Recipes},
}

% ── Pandoc Compatibility ───────────────────────────────────
\providecommand{\tightlist}{%
  \setlength{\itemsep}{2pt}\setlength{\parskip}{0pt}}

% ── Decorative Commands ────────────────────────────────────
\newcommand{\ornamentrule}{%
  \begin{center}
    \begin{tikzpicture}
      \draw[wine, line width=0.5pt] (0,0) -- (1.8,0);
      \fill[wine] (2.15,0) -- (2.35,0.13) -- (2.55,0) -- (2.35,-0.13) -- cycle;
      \draw[wine, line width=0.5pt] (2.9,0) -- (4.7,0);
    \end{tikzpicture}
  \end{center}%
}

\newcommand{\wideornamentrule}{%
  \begin{center}
    \begin{tikzpicture}
      \draw[wine, line width=0.5pt] (0,0) -- (2.6,0);
      \fill[wine] (2.95,0) -- (3.15,0.13) -- (3.35,0) -- (3.15,-0.13) -- cycle;
      \draw[wine, line width=0.5pt] (3.7,0) -- (6.3,0);
    \end{tikzpicture}
  \end{center}%
}

\newcommand{\lightrule}{%
  \begin{center}
    \textcolor{warmgray}{\rule{3cm}{0.4pt}}
  \end{center}%
}

% ── Section Override (Category Divider Pages) ──────────────
\let\oldsection\section
\renewcommand{\section}[1]{%
  \clearpage
  \refstepcounter{section}%
  \thispagestyle{empty}%
  \vspace*{\fill}%
  \ornamentrule
  \vspace{0.5cm}%
  {\centering\fontsize{26}{32}\selectfont\scshape\textcolor{wine}{#1}\par}%
  \vspace{0.5cm}%
  \ornamentrule
  \vspace*{\fill}%
  \addcontentsline{toc}{section}{#1}%
}

% ── Subsection Override (Recipe Pages) ─────────────────────
\let\oldsubsection\subsection
\renewcommand{\subsection}[1]{%
  \clearpage
  \refstepcounter{subsection}%
  \vspace*{6pt}%
  {\centering\fontsize{20}{24}\selectfont\bfseries\textcolor{darkwine}{#1}\par}%
  \vspace{4pt}%
  \lightrule
  \vspace{2pt}%
  \addcontentsline{toc}{subsection}{#1}%
}

% ── Table of Contents Formatting ───────────────────────────
\setcounter{tocdepth}{2}

\makeatletter
% Strip the default TOC heading so we can provide our own
\renewcommand\tableofcontents{\@starttoc{toc}}

% Section entries: bold, wine-colored, with dot leaders
\renewcommand*\l@section[2]{%
  \ifnum \c@tocdepth >\z@
    \addpenalty\@secpenalty
    \addvspace{0.6em \@plus\p@}%
    \begingroup
      \parindent\z@
      \rightskip\@pnumwidth
      \parfillskip-\@pnumwidth
      \leavevmode\bfseries\color{wine}%
      #1\nobreak
      \leaders\hbox{$\m@th
        \mkern \@dotsep mu\hbox{\normalfont\textcolor{warmgray}{.}}\mkern \@dotsep
        mu$}\hfill
      \nobreak\hb@xt@\@pnumwidth{\hss #2}\par
    \endgroup
  \fi}

% Subsection entries: normal weight, indented, charcoal
\renewcommand*\l@subsection[2]{%
  \ifnum \c@tocdepth >1%
    \addvspace{0.1em}%
    \begingroup
      \parindent\z@
      \rightskip\@pnumwidth
      \parfillskip-\@pnumwidth
      \leftskip 1.5em
      \leavevmode\normalfont\color{charcoal}%
      #1\nobreak
      \leaders\hbox{$\m@th
        \mkern \@dotsep mu\hbox{\textcolor{warmgray}{.}}\mkern \@dotsep
        mu$}\hfill
      \nobreak\hb@xt@\@pnumwidth{\hss #2}\par
    \endgroup
  \fi}
\makeatother

% ── Title Page ─────────────────────────────────────────────
\newcommand{\titlepagecontent}[1]{%
  \begin{titlepage}
    \thispagestyle{empty}
    \begin{tikzpicture}[remember picture, overlay]
      \draw[wine, line width=1.2pt]
        ([xshift=0.65in, yshift=-0.65in]current page.north west)
        rectangle
        ([xshift=-0.65in, yshift=0.65in]current page.south east);
      \draw[wine, line width=0.3pt]
        ([xshift=0.6in, yshift=-0.6in]current page.north west)
        rectangle
        ([xshift=-0.6in, yshift=0.6in]current page.south east);
    \end{tikzpicture}
    \centering
    \vspace*{2.2in}
    {\fontsize{36}{44}\selectfont\scshape\textcolor{wine}{#1}\par}
    \vspace{0.6cm}
    \wideornamentrule
    \vspace{0.5cm}
    {\large\itshape\textcolor{charcoal}{A collection of recipes from the Roemer and Fulkerson families.}\par}
    \vspace*{\fill}
    {\normalsize\textcolor{warmgray}{Compiled on \today}\par}
    \vspace{0.9in}
  \end{titlepage}
}

\begin{document}

% ── Title Page ─────────────────────────────────────────────
\titlepagecontent{Roemer Family Recipes}

% ── Table of Contents ──────────────────────────────────────
\newpage
\thispagestyle{plain}
\vspace*{0.4in}
{\centering\fontsize{24}{30}\selectfont\scshape\textcolor{wine}{Table of Contents}\par}
\vspace{0.3cm}
\ornamentrule
\vspace{0.4cm}
{%
  \hypersetup{linkcolor=charcoal}%
  \tableofcontents
}
\newpage

% ── Recipes ────────────────────────────────────────────────

$body$

\vspace*{\fill}
\ornamentrule

\end{document}
